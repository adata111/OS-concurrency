For this question I have used a thread for every student, vaccination zone and pharmaceutical company. So there are 3 structs - st,zo and co for each of these respectively. `st` has id, round number, vaccination zone id and probability of success of the vaccine given. `zo` has id, number of vaccines supplied by a company, id of company that supplied the vaccines, number of vacant slots. `co` has id, number of batches produced and unassigned(batchProduced), number of vaccines in each batch, total number batches produced in this production phase(w), probability of success of vaccines produced and number of batches assigned that have not yet been finished by the zone that got it.

A mutex has been usedd for each company and vaccination zone.

There is a function for each entity. 
- In the company function, we produce vaccines only if the value of batchUnused is 0 i.e. all its produced batches are over. We make changes to the company variables after first locking that company mutex.
- In the vaccination zone function, we check if the vaccines left and the slots remaining are 0. If they are then we need to request a company for more vaccines. Note that in the first iteration after starting the program the zones are detected to be empty or "run out of vaccines" and hence the "run out of vaccines" message is printed. After getting vaccines slots are decided for that zone. Number of slots is any random number between 1 and min(8,students left,vaccines left in zone). The selection of slots happens in a loop until all the vaccines get over and request to company is made. When requesting a specific company, that company's mutex is locked so that no other zone can make changes to its values.
- In the student funtion, we run a loop based on the round variable of `st` struct. The student can be vaccinated thrice max. The student arrives and looks for a vaccination zone with empty slots and gets alloted to it. The student gets his/her vaccination and then proceeds for the antibody test. For this we use the probability of success `x` of the vaccine given to that student. A random number between 0 and 99 is generated. If this number is less than x\*100, it means the antibody test was positive and the student is done. Else the student goes to the next round.

In the company and vaccination zone funtions we check if the remaining students is less than zero or not time and again so that unneccessary processes aren't done. 